<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Advanced To-Do List</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="container">
    <h1>🌙 To-Do List</h1>
    
    <div class="todo-input">
      <input type="text" id="taskName" placeholder="Task name..." />
      <input type="datetime-local" id="taskTime" />
      <input type="text" id="taskDuration" placeholder="Duration (e.g. 1hr 30min)" />
      <button onclick="addTask()">Add</button>
    </div>

    <h2>🟡 Pending Tasks</h2>
    <ul id="taskList"></ul>

    <h2>✅ Completed Tasks</h2>
    <ul id="completedList"></ul>
  </div>

  <script>
    function formatDateTime(datetime) {
      const date = new Date(datetime);
      const options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
      const time = date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
      return `${date.toLocaleDateString(undefined, options)} at ${time}`;
    }

    function addTask() {
      const name = document.getElementById('taskName').value.trim();
      const datetime = document.getElementById('taskTime').value;
      const duration = document.getElementById('taskDuration').value.trim();
      if (!name || !datetime || !duration) return;

      const li = document.createElement('li');

      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.onclick = () => {
        li.remove();
        document.getElementById('completedList').appendChild(li);
        li.classList.add('completed');
      };

      const content = document.createElement('div');
      content.className = 'task-info';
      content.innerHTML = `
        <strong>${name}</strong><br/>
        <small>${formatDateTime(datetime)}</small><br/>
        <em>Duration: ${duration}</em>
      `;

      const deleteBtn = document.createElement('button');
      deleteBtn.textContent = '❌';
      deleteBtn.onclick = () => li.remove();

      li.appendChild(checkbox);
      li.appendChild(content);
      li.appendChild(deleteBtn);

      document.getElementById('taskList').appendChild(li);

      document.getElementById('taskName').value = '';
      document.getElementById('taskTime').value = '';
      document.getElementById('taskDuration').value = '';
    }
  </script>
</body>
</html>
